CONSTANTS
    Nodes = {n1, n2, n3, n4}
    TotalStake = 100
    Quorum80 = 80
    Quorum60 = 60
    MaxSlot = 3
    ByzantineNodes = {n4}
    ByzantineStakeRatio = 20
    ErasureCodingFactor = 50
    NetworkDelay = 10
    SlotTimeout = 5
    MaxTime = 30
    WindowSize = 2
    Delta80 = 1
    Delta60 = 2
    MaxNetworkDelay = 15
    MinNetworkDelay = 5
    PartialSynchronyBound = 20
    RoundTimeout = 10
    FastPathTimeout = 5
    SlowPathTimeout = 10
    OptimizationLevel = 1
    MonteCarloSamples = 100
    ConfidenceLevel = 95
    SamplingStrategy = "uniform"
    PropertyComplexityThreshold = 10

SPECIFICATION Spec

\* State constraint for safety testing
CONSTRAINT StateConstraint

INVARIANTS
    \* Enhanced Safety Properties
    SlotBounds
    ValidByzantineStake
    NoConflictingBlocksFinalized
    CertificateUniqueness
    NoEquivocation
    ForkPrevention
    ChainConsistencyUnderByzantineFaults
    ByzantineFaultTolerance
    CertificateAggregationInvariants
    CertificateVoteConsistency
    CertificateStakeCorrectness
    RelayGraphConsistency
    StakeWeightedSamplingFairness
    ErasureCodingRedundancyMaintained
    NetworkTopologyRespected
    TimeoutConsistency
    SkipCertificateConsistency
    TimeProgressionConsistency
    WindowManagementInvariants

PROPERTIES
    SafetyWithByzantineStake
    NoConflictingBlocksFinalized
    CertificateUniqueness